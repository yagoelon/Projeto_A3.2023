<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planner Semanal</title>
    <link rel="stylesheet" href="styles.css">
    <script src="./script.js"></script>
</head>
<body>
    <section>
        
        <div class="mes">
            <h1>Novembro</h1>
        </div>

        <div class="planner">

            <div class="day">

                <label class="lbfull">Data<input class="date-input" type="date" id="data1"> </label>

                <div class="event" id="evento1">

                    <div class="info" id="if" style="background-color: hsl(0, 0%, 100%);">
                        <h2 id="card1"></h2>
                        <label >Nome<input type="text" id="nome1" placeholder="Nome do evento"></label>
                        <label >Categoria<input type="text" id="categoria1" placeholder="Categoria do evento"></label>
                        <label for="cor">Cor do evento<input type="color" id="cor" name="cor" value="#ffffff"></label>
                        <label >Concluído<input type="checkbox" id="concluido1"></label>
                    </div>
                    
                    <div class="info2" id="info1" data-evento="evento1">
                        <label for="infoTexto1">Informações</label>
                        <textarea id="infoTexto1" placeholder="Descrição da informação" cols="10"></textarea>
                        <button type="submit"> GRAVAR </button>
                    </div>

                </div>

            </div>

            <div class="day">

                <label class="lbfull">Data: <input class="date-input" type="date" id="data2"></label>

                <div class="event" id="evento2">

                    <div class="info" id="if2" style="background-color: #ffffff;">
                        <h2 id="card2">Terça-feira</h2>
                        <label >Nome<input type="text" id="nome2" placeholder="Nome do evento"></label>
                        <label >Categoria<input type="text" id="categoria2" placeholder="Categoria do evento"></label>
                        <label for="cor2">Cor do evento<input type="color" id="cor2" name="cor" value="#ffffff"></label>
                        <label >Concluído<input type="checkbox" id="concluido2"></label>
                    </div>

                    <div class="info2" id="info2" data-evento="evento2">
                        <label for="infoTexto2">Informações</label>
                        <textarea id="infoTexto2" rows="4" placeholder="Descrição da informação"></textarea>
                        <button type="submit"> GRAVAR </button>
                    </div>

                </div>

            </div>

            <div class="day">

                <label class="lbfull">Data: <input class="date-input" type="date" id="data3"></label>

                <div class="event" id="evento3">
                    <div class="info" style="background-color: #ffffff;">
                        <h2 id="card3">Quarta-feira</h2>
                        <label >Nome<input type="text" id="nome3" placeholder="Nome do evento"></label>
                        <label >Categoria<input type="text" id="categoria3" placeholder="Categoria do evento"></label>
                        <label for="cor">Cor do evento<input type="color" id="cor" name="cor" value="#ffffff"></label>
                        <label >Concluído<input type="checkbox" id="concluido3"></label>
                    </div>

                    <div class="info2" id="info3" data-evento="evento3">
                        <label for="infoTexto3">Informações</label>
                        <textarea id="infoTexto3" rows="4" placeholder="Descrição da informação"></textarea>
                        <button type="submit"> GRAVAR </button>
                    </div>

                </div>

            </div>

            <div class="day">

                <label class="lbfull">Data: <input class="date-input" type="date" id="data4"></label>

                <div class="event" id="evento4">
                
                    <div class="info" style="background-color: #ffffff;">
                        <h2 id="card4">Quinta-feira</h2>
                        <label >Nome<input type="text" id="nome4" placeholder="Nome do evento"></label>
                        <label >Categoria<input type="text" id="categoria4" placeholder="Categoria do evento"></label>
                        <label for="cor">Cor do evento<input type="color" id="cor" name="cor" value="#ffffff"></label>
                        <label >Concluído<input type="checkbox" id="concluido4"></label>
                    </div>

                    <div class="info2" id="info4" data-evento="evento4">
                        <label for="infoTexto4">Informações</label>
                        <textarea id="infoTexto4" rows="4" placeholder="Descrição da informação"></textarea>
                        <button type="submit"> GRAVAR </button>
                    </div>

                </div>

            </div>

            <div class="day">

                <label class="lbfull" >Data<input class="date-input" type="date" id="data5"></label>

                <div class="event" id="evento5">
                    
                    <div class="info" style="background-color: #ffffff;">
                        <h2 id="card5">Sexta-feira</h2>
                        <label >Nome<input type="text" id="nome5" placeholder="Nome do evento"></label>
                        <label >Categoria<input type="text" id="categoria5" placeholder="Categoria do evento"></label>
                        <label for="cor">Cor do evento<input type="color" id="cor" name="cor" value="#ffffff"></label>
                        <label >Concluído<input type="checkbox" id="concluido5"></label>
                    </div>

                    <div class="info2" id="info5" data-evento="evento5">
                        <label for="infoTexto5">Informações</label>
                        <textarea id="infoTexto5" rows="4" placeholder="Descrição da informação"></textarea>
                        <button type="submit"> GRAVAR </button>
                    </div>

                </div>

            </div>

        </div>            
                           
    </section> 
     
     
    <script>
        /*
        document.addEventListener('DOMContentLoaded', function() {
            const days = document.querySelectorAll('.day');
    
            days.forEach(day => {
                day.addEventListener('click', function() {
                    const dateInput = day.querySelector('input[type="date"]');
                    const currentDate = new Date(dateInput.value);
                    const newDate = new Date(currentDate);
                    newDate.setDate(newDate.getDate() + 7);
                    const formattedDate = newDate.toISOString().substr(0, 10);
                    dateInput.value = formattedDate;
    
                    const dayOfWeek = newDate.getDay();
                    const dayNames = ['Domingo', 'Segunda-feira', 'Terça-feira', 'Quarta-feira', 'Quinta-feira', 'Sexta-feira', 'Sábado'];
                    const selectedDay = dayNames[dayOfWeek];
    
                    // Adicionando dados do evento
                    const plannerData = {
                        id: '1', // Você pode gerar um ID único
                        nome: 'Evento',
                        data: formattedDate,
                        categoria: 'Categoria do evento',
                        concluido: false,
                        informacoes: 'Descrição do evento'
                    };
    
                    // Enviando dados para o servidor
                    fetch('http://localhost:3000/api/planner', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(plannerData)
                    })
                    .then(response => response.json())
                    .then(data => {
                        console.log('Resposta do servidor:', data);
                    })
                    .catch(error => {
                        console.error('Erro ao enviar dados para o servidor:', error);
                    });
    
                    // Atualizar o texto do h2
                    const h2Element = day.querySelector('h2');
                    h2Element.textContent = selectedDay;
                });
            });
        });*/
    </script>
    
</body>
    